Configures a Kafka Bridge cluster.

Configuration options relate to:

* Kafka cluster bootstrap address
* Security (encryption, authentication, and authorization)
* Consumer configuration
* Producer configuration
* HTTP configuration

[id='property-kafka-bridge-logging-{context}']
= Logging

Kafka Bridge has its own configurable loggers:

* `rootLogger`
* `bridge`

You can also set log levels for specific operations based on endpoints:

* `createConsumer`
* `deleteConsumer`
* `subscribe`
* `unsubscribe`
* `poll`
* `assign`
* `commit`
* `send`
* `sendToPartition`
* `seekToBeginning`
* `seekToEnd`
* `seek`
* `healthy` (default: `WARN`)
* `ready` (default: `WARN`)
* `openapi`

The healthy and ready loggers are set to `WARN` by default due to verbosity:

[source,properties]
----
logger.healthy.name = http.openapi.operation.healthy
logger.healthy.level = WARN
logger.ready.name = http.openapi.operation.ready
logger.ready.level = WARN
----

The log level of all other operations is set to `INFO` by default.

Each operation has a corresponding API endpoint, defined according to the OpenAPI specification, allowing fine-grained logging of HTTP requests.

Configure each logger by assigning it a name as `http.openapi.operation.<operation_id>`. 
For example, to set the logging level for the send operation logger:

```
logger.send.name = http.openapi.operation.send
logger.send.level = DEBUG
```

Kafka Bridge uses the Apache `log4j2` logger implementation.
Use the `logging` property to configure loggers and logger levels.

You can set the log levels by specifying the logger and level directly (`inline`) or use a custom (`external`) `ConfigMap` to define logging configurations using the `log4j2.properties` key.

.Example inline logging configuration
[source,yaml,subs="+quotes,attributes"]
----
apiVersion: {KafkaApiVersion}
kind: KafkaBridge
spec:
  # ...
  logging:
    type: inline
    loggers:
      rootLogger.level: INFO
      # enabling DEBUG for send operation
      logger.send.name: "http.openapi.operation.send"
      logger.send.level: DEBUG
  # ...
----

.Example external logging configuration
[source,yaml,subs="+quotes,attributes"]
----
apiVersion: {KafkaApiVersion}
kind: KafkaBridge
spec:
  # ...
  logging:
    type: external
    valueFrom:
      configMapKeyRef:
        # name and key are mandatory
        name: customConfigMap
        key: log4j2.properties
  # ...
----

.Garbage collector (GC)

Garbage collector logging can also be enabled (or disabled) using the xref:con-common-configuration-garbage-collection-reference[`jvmOptions` property].
